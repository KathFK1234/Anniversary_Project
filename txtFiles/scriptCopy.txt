window.addEventListener('scroll', function() {
  const audio = document.getElementById('background-music');
  
  // Play the song as soon as the user scrolls
  if (window.scrollY > 0) {
    // Play the song (if it's not already playing)
    if (audio.paused) {
      audio.play();
    }
  } else {
    // Pause the song when at the top of the page
    audio.pause();
  }
});

window.addEventListener('scroll', function() {
  // Get the scroll position
  const scrollPosition = window.scrollY;
  
  // Get the quiz and slideshow elements
  const quizContainer = document.querySelector('.quiz-container');
  const slideshow = document.querySelector('.slideshow');

  // When the scroll reaches a certain point (e.g., 200px), show the quiz
  if (scrollPosition > 200 && !quizContainer.classList.contains('show')) {
    quizContainer.classList.add('show');
  }

  // When the scroll reaches another point (e.g., 600px), show the slideshow
  if (scrollPosition > 600 && quizContainer.classList.contains('show') && !slideshow.classList.contains('show')) {
    slideshow.classList.add('show');
  }
});

document.getElementById('quiz-form').addEventListener('submit', function(e) {
  e.preventDefault(); // Prevent default form submission
  
  const answers = {
    q1: "7 years", // Replace with correct answers
    q2: "blue", 
    q3: "Tom",
    q4: "Java",
    q5: "Ardhi"
  };

  let isCorrect = true;
  
  // Check if all answers are correct
  for (let i = 1; i <= 5; i++) {
    const userAnswer = document.getElementById(`q${i}`).value.toLowerCase();
    if (userAnswer !== answers[`q${i}`].toLowerCase()) {
      isCorrect = false;
      break;
    }
  }

  // If all answers are correct, show the slideshow
  if (isCorrect) {
    alert("All your answers are correct! Enjoy the trip :)");
    // document.querySelector('.quiz-container').style.display = 'none';
    const slideshow = document.getElementById('slideshow');
    slideshow.style.display = 'flex';
    
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    function showNextSlide() {
      slides[currentSlide].classList.remove('show');
      currentSlide = (currentSlide + 1) % slides.length;
      slides[currentSlide].classList.add('show');
    }

    // Start the slideshow and switch slides every 10 seconds
    setInterval(showNextSlide, 10000);
    showNextSlide(); // Show the first slide immediately
  } else {
    alert('Some answers are incorrect, please try again.');
  }
});